<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftUI Modern Development | Manan Patel</title>
    <meta name="description" content="Modern SwiftUI development patterns and best practices">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        .material-icons {
          font-size: inherit;
        }
        .secondary-text {
          font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
          font-size: 0.75rem;
        }
        pre {
          background-color: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 0.375rem;
          padding: 1rem;
          overflow-x: auto;
          font-size: 0.875rem;
          line-height: 1.5;
        }
        code {
          font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
          font-size: 0.875rem;
        }
      </style>
</head>
<body class="bg-white">
    <div class="max-w-4xl mx-auto p-6 pt-20">
        <a href="index.html" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-8 transition-colors">
            <span class="material-icons mr-2">arrow_back</span>
            Back to Blog
        </a>
        
        <article>
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-4">üì± SwiftUI Modern Development</h1>
                <p class="text-secondary-text-light dark:text-secondary-text-dark secondary-text mb-4">Modern SwiftUI development patterns and best practices</p>
                <div class="flex items-center text-sm text-gray-500">
                    <span class="material-icons mr-1 text-sm">schedule</span>
                    <span class="mr-4">8 min read</span>
                    <span class="material-icons mr-1 text-sm">calendar_today</span>
                    <span>December 28, 2023</span>
                </div>
            </header>

            <div class="prose prose-lg max-w-none">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">Modern SwiftUI</h2>
                <p class="text-secondary-text-light dark:text-secondary-text-dark secondary-text mb-6">
                    SwiftUI has evolved significantly, offering powerful new features and patterns for modern iOS development.
                </p>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4">1. State Management</h2>
                <pre><code class="language-swift">// ObservableObject for complex state
class UserStore: ObservableObject {
    @Published var users: [User] = []
    @Published var isLoading = false
    @Published var error: Error?
    
    func loadUsers() async {
        await MainActor.run { isLoading = true }
        
        do {
            let users = try await userService.fetchUsers()
            await MainActor.run {
                self.users = users
                self.isLoading = false
            }
        } catch {
            await MainActor.run {
                self.error = error
                self.isLoading = false
            }
        }
    }
}

// StateObject for view-owned state
struct UserListView: View {
    @StateObject private var userStore = UserStore()
    
    var body: some View {
        NavigationView {
            List(userStore.users) { user in
                UserRowView(user: user)
            }
            .task {
                await userStore.loadUsers()
            }
        }
    }
}</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">2. Navigation Patterns</h2>
                <pre><code class="language-swift">// NavigationStack (iOS 16+)
struct ContentView: View {
    @State private var path = NavigationPath()
    
    var body: some View {
        NavigationStack(path: $path) {
            VStack {
                Button("Go to Detail") {
                    path.append("detail")
                }
            }
            .navigationDestination(for: String.self) { destination in
                switch destination {
                case "detail":
                    DetailView()
                default:
                    EmptyView()
                }
            }
        }
    }
}

// Programmatic navigation
class NavigationCoordinator: ObservableObject {
    @Published var path = NavigationPath()
    
    func navigate(to destination: String) {
        path.append(destination)
    }
    
    func popToRoot() {
        path = NavigationPath()
    }
}</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">3. Custom Modifiers</h2>
                <pre><code class="language-swift">// Reusable card modifier
struct CardModifier: ViewModifier {
    func body(content: Content) -> some View {
        content
            .padding()
            .background(Color(.systemBackground))
            .cornerRadius(12)
            .shadow(color: .black.opacity(0.1), radius: 4, x: 0, y: 2)
    }
}

extension View {
    func cardStyle() -> some View {
        modifier(CardModifier())
    }
}

// Usage
VStack {
    Text("Card Content")
}
.cardStyle()</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">4. Async/Await Integration</h2>
                <pre><code class="language-swift">struct AsyncImageView: View {
    let url: URL
    @State private var image: UIImage?
    
    var body: some View {
        Group {
            if let image = image {
                Image(uiImage: image)
                    .resizable()
                    .aspectRatio(contentMode: .fit)
            } else {
                ProgressView()
            }
        }
        .task {
            await loadImage()
        }
    }
    
    private func loadImage() async {
        do {
            let (data, _) = try await URLSession.shared.data(from: url)
            let loadedImage = UIImage(data: data)
            await MainActor.run {
                self.image = loadedImage
            }
        } catch {
            print("Failed to load image: \(error)")
        }
    }
}</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">5. Performance Optimization</h2>
                <pre><code class="language-swift">// Lazy loading for large lists
struct LargeListView: View {
    let items: [Item]
    
    var body: some View {
        List {
            ForEach(items) { item in
                LazyVStack {
                    ItemView(item: item)
                }
            }
        }
    }
}

// View identity for animations
struct AnimatedView: View {
    @State private var isExpanded = false
    
    var body: some View {
        VStack {
            Button("Toggle") {
                withAnimation(.easeInOut(duration: 0.3)) {
                    isExpanded.toggle()
                }
            }
            
            if isExpanded {
                ContentView()
                    .transition(.asymmetric(
                        insertion: .scale.combined(with: .opacity),
                        removal: .opacity
                    ))
            }
        }
    }
}</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">6. Testing SwiftUI Views</h2>
                <pre><code class="language-swift">import XCTest
@testable import YourApp

class UserListViewTests: XCTestCase {
    func testUserListDisplaysUsers() {
        // Given
        let users = [
            User(id: 1, name: "John Doe"),
            User(id: 2, name: "Jane Smith")
        ]
        let userStore = UserStore()
        userStore.users = users
        
        // When
        let view = UserListView()
            .environmentObject(userStore)
        
        // Then
        // Use ViewInspector or similar testing framework
        // to verify the view displays the users correctly
    }
    
    func testLoadingState() {
        // Given
        let userStore = UserStore()
        userStore.isLoading = true
        
        // When
        let view = UserListView()
            .environmentObject(userStore)
        
        // Then
        // Verify loading indicator is shown
    }
}</code></pre>

                <h2 class="text-2xl font-semibold text-gray-900 mb-4 mt-8">7. Best Practices</h2>
                
                <div class="bg-green-50 border-l-4 border-green-400 p-4 my-8">
                    <h4 class="text-lg font-semibold text-green-800 mb-2">‚úÖ Do's</h4>
                    <ul class="text-green-700 space-y-1">
                        <li>Use @StateObject for view-owned state</li>
                        <li>Break views into smaller, reusable components</li>
                        <li>Use async/await for data loading</li>
                        <li>Implement proper error handling</li>
                        <li>Test your SwiftUI views</li>
                    </ul>
                </div>

                <div class="bg-red-50 border-l-4 border-red-400 p-4 my-8">
                    <h4 class="text-lg font-semibold text-red-800 mb-2">‚ùå Don'ts</h4>
                    <ul class="text-red-700 space-y-1">
                        <li>Don't put too much logic in views</li>
                        <li>Don't ignore performance implications</li>
                        <li>Don't forget about accessibility</li>
                        <li>Don't mix UIKit and SwiftUI unnecessarily</li>
                    </ul>
                </div>
            </div>
        </article>
    </div>
</body>
</html>