<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canadian Tax Tools - BC, Ontario, Alberta</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <script>
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                primary: "#E83D99",
                "background-light": "#FFFFFF",
                "background-dark": "#121212",
                "text-light": "#111827",
                "text-dark": "#E5E7EB",
                "secondary-text-light": "#6B7280",
                "secondary-text-dark": "#9CA3AF",
                "border-light": "#E5E7EB",
                "border-dark": "#374151",
                "card-light": "#F9FAFB",
                "card-dark": "#1F2937",
              },
              fontFamily: {
                sans: ['Inter', 'sans-serif'],
              },
              borderRadius: {
                DEFAULT: '0.5rem',
                lg: '0.75rem',
                full: '9999px',
              },
            },
          },
        };
      </script>
    <style>
        .secondary-text {
          font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
          font-size: 0.875rem;
        }
        .tax-table {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.875rem;
        }
        .warning-banner {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
        }
        .info-banner {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }
        .success-banner {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
    <div class="min-h-screen py-8 px-4">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-text-light dark:text-text-dark mb-2">Canadian Tax Calculator 2025</h1>
                <p class="text-secondary-text-light dark:text-secondary-text-dark secondary-text">BC ‚Ä¢ Ontario ‚Ä¢ Alberta</p>
            </div>

            <!-- Warning Banner -->
            <div class="warning-banner rounded-lg p-6 mb-8 text-center">
                <div class="flex items-center justify-center mb-2">
                    <span class="text-2xl mr-2">‚ö†Ô∏è</span>
                    <h2 class="text-xl font-bold">DISCLAIMER</h2>
                </div>
                <p class="text-lg">This is NOT financial or tax advice. For educational purposes only. Consult a qualified professional for tax planning.</p>
            </div>

            <!-- Input Section -->
            <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 mb-8">
                <h3 class="text-xl font-bold text-text-light dark:text-text-dark mb-6">Enter Your Information</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div>
                        <label for="province" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Province</label>
                        <select id="province" class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
                            <option value="AB">Alberta</option>
                            <option value="BC">British Columbia</option>
                            <option value="ON">Ontario</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="annualSalary" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Annual Gross Salary ($CAD)</label>
                        <input type="number" id="annualSalary" value="75000" min="0" step="1000" 
                               class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark"
                               placeholder="e.g. 75000">
                    </div>
                    
                    <div>
                        <label for="payPeriod" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Pay Frequency</label>
                        <select id="payPeriod" class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
                            <option value="12">Monthly (12 times/year)</option>
                            <option value="26" selected>Bi-weekly (26 times/year)</option>
                            <option value="24">Semi-monthly (24 times/year)</option>
                            <option value="52">Weekly (52 times/year)</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="rrspContrib" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Annual RRSP Contributions ($)</label>
                        <input type="number" id="rrspContrib" value="5000" min="0" step="500" 
                               class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark"
                               placeholder="0">
                    </div>
                    
                    <div>
                        <label for="unionDues" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Annual Union Dues ($)</label>
                        <input type="number" id="unionDues" value="0" min="0" step="100" 
                               class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark"
                               placeholder="0">
                    </div>
                    
                    <div>
                        <label for="employmentType" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Employment Type</label>
                        <select id="employmentType" class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
                            <option value="employee">T4 Employee</option>
                            <option value="self-employed">Self-Employed</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Results Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 text-center">
                    <h3 class="text-sm font-medium text-secondary-text-light dark:text-secondary-text-dark mb-2">Gross Annual</h3>
                    <div class="text-2xl font-bold text-text-light dark:text-text-dark" id="grossAnnual">$75,000</div>
                    <div class="text-xs text-secondary-text-light dark:text-secondary-text-dark secondary-text mt-1">Before deductions</div>
                </div>
                
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 text-center">
                    <h3 class="text-sm font-medium text-secondary-text-light dark:text-secondary-text-dark mb-2">Net Annual</h3>
                    <div class="text-2xl font-bold text-text-light dark:text-text-dark" id="netAnnual">$58,500</div>
                    <div class="text-xs text-secondary-text-light dark:text-secondary-text-dark secondary-text mt-1">After taxes & deductions</div>
                </div>
                
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 text-center">
                    <h3 class="text-sm font-medium text-secondary-text-light dark:text-secondary-text-dark mb-2">Take-Home Per Pay</h3>
                    <div class="text-2xl font-bold text-text-light dark:text-text-dark" id="takeHomePay">$2,250</div>
                    <div class="text-xs text-secondary-text-light dark:text-secondary-text-dark secondary-text mt-1" id="payFreqText">Bi-weekly</div>
                </div>
                
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 text-center">
                    <h3 class="text-sm font-medium text-secondary-text-light dark:text-secondary-text-dark mb-2">Effective Tax Rate</h3>
                    <div class="text-2xl font-bold text-text-light dark:text-text-dark" id="effectiveRate">22.0%</div>
                    <div class="text-xs text-secondary-text-light dark:text-secondary-text-dark secondary-text mt-1">Total tax burden</div>
                </div>
            </div>

            <!-- Breakdown Section -->
            <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 mb-8">
                <h3 class="text-xl font-bold text-text-light dark:text-text-dark mb-6">üìä Annual Tax & Deduction Breakdown</h3>
                
                <div class="space-y-4">
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="font-medium text-text-light dark:text-text-dark">Gross Employment Income:</span>
                        <span class="font-mono text-text-light dark:text-text-dark" id="breakdownGross">$75,000</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">RRSP Contributions:</span>
                        <span class="font-mono text-red-500" id="breakdownRRSP">-$5,000</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">Union Dues:</span>
                        <span class="font-mono text-red-500" id="breakdownUnion">-$0</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">Taxable Income:</span>
                        <span class="font-mono text-text-light dark:text-text-dark" id="taxableIncome">$70,000</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">Federal Income Tax:</span>
                        <span class="font-mono text-red-500" id="federalTax">-$7,200</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">Provincial Tax:</span>
                        <span class="font-mono text-red-500" id="provincialTax">-$4,770</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">CPP Contributions:</span>
                        <span class="font-mono text-red-500" id="cppContrib">-$3,867</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-border-light dark:border-border-dark">
                        <span class="text-secondary-text-light dark:text-secondary-text-dark">EI Premiums:</span>
                        <span class="font-mono text-red-500" id="eiContrib">-$1,275</span>
                    </div>
                    <div class="flex justify-between items-center py-3 pt-4 border-t-2 border-primary">
                        <span class="font-bold text-lg text-text-light dark:text-text-dark">Net Take-Home Income:</span>
                        <span class="font-mono font-bold text-lg text-text-light dark:text-text-dark" id="netBreakdown">$58,888</span>
                    </div>
                </div>
            </div>

            <!-- Tax Tables Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Federal Tax Brackets -->
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6">
                    <h3 class="text-xl font-bold text-text-light dark:text-text-dark mb-4">üìà Federal Tax Brackets 2025</h3>
                    <div class="tax-table">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b border-border-light dark:border-border-dark">
                                        <th class="text-left py-2 text-secondary-text-light dark:text-secondary-text-dark">Income Range</th>
                                        <th class="text-right py-2 text-secondary-text-light dark:text-secondary-text-dark">Rate</th>
                                    </tr>
                                </thead>
                                <tbody id="federalTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Provincial Tax Brackets -->
                <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6">
                    <h3 class="text-xl font-bold text-text-light dark:text-text-dark mb-4">üèõÔ∏è Provincial Tax Brackets 2025</h3>
                    <div class="tax-table">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b border-border-light dark:border-border-dark">
                                        <th class="text-left py-2 text-secondary-text-light dark:text-secondary-text-dark">Income Range</th>
                                        <th class="text-right py-2 text-secondary-text-light dark:text-secondary-text-dark">Rate</th>
                                    </tr>
                                </thead>
                                <tbody id="provincialTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Important Links Section -->
            <div class="bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-6 mb-8">
                <h3 class="text-xl font-bold text-text-light dark:text-text-dark mb-4">üîó Important Government Resources</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-3">
                        <h4 class="font-semibold text-text-light dark:text-text-dark">Federal Resources</h4>
                        <div class="space-y-2">
                            <a href="https://www.canada.ca/en/revenue-agency/services/tax/individuals/frequently-asked-questions-individuals/tax-credits-deductions-returns/basic-personal-amount.html" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Canada.ca - Personal Amounts and Tax Brackets</a>
                            <a href="https://www.canada.ca/en/revenue-agency/services/tax/businesses/topics/payroll/payroll-deductions-contributions/canada-pension-plan-cpp.html" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Canada.ca - Canada Pension Plan (CPP) Contributions</a>
                            <a href="https://www.canada.ca/en/revenue-agency/services/tax/businesses/topics/payroll/payroll-deductions-contributions/employment-insurance-ei.html" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Canada.ca - Employment Insurance (EI) Contributions</a>
                            <a href="https://www.canada.ca/en/revenue-agency/services/tax/businesses/topics/sole-proprietorships-partnerships.html" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Canada.ca - Sole Proprietorships and Partnerships</a>
                            <a href="https://www.canada.ca/en/revenue-agency/services/tax/businesses/topics/sole-proprietorships-partnerships/report-business-income-expenses/complete-fill-out-t2125-statement-business-activities.html" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Canada.ca - Self-Employed Income Tax Return (T2125)</a>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <h4 class="font-semibold text-text-light dark:text-text-dark">Provincial Resources</h4>
                        <div class="space-y-2">
                            <a href="https://www.alberta.ca/personal-income-tax.aspx" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Alberta.ca - Personal Income Tax Information</a>
                            <a href="https://www2.gov.bc.ca/gov/content/taxes/income-taxes/personal" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">BC.gov.ca - Personal Income Tax</a>
                            <a href="https://www.ontario.ca/page/personal-income-tax" 
                               target="_blank" rel="noopener" 
                               class="block text-sm text-primary hover:underline">Ontario.ca - Personal Income Tax</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculator Info -->
            <div class="info-banner rounded-lg p-6 mb-8">
                <h4 class="text-lg font-bold mb-3">‚ÑπÔ∏è How This Calculator Works</h4>
                <div class="text-sm space-y-2">
                    <p><strong>This calculator estimates your employment taxes using 2025 rates:</strong></p>
                    <ul class="list-disc list-inside space-y-1 ml-4">
                        <li><strong>Federal Tax:</strong> Progressive rates from 15% to 33%</li>
                        <li><strong>Provincial Tax:</strong> Varies by province (Alberta: 10-15%, BC: 5.06-20.5%, Ontario: 5.05-13.16%)</li>
                        <li><strong>CPP:</strong> 5.95% on earnings between $3,500-$71,300 (max $4,034)</li>
                        <li><strong>EI:</strong> 1.70% on earnings up to $63,200 (max $1,074)</li>
                        <li><strong>Basic Personal Amount:</strong> $22,323 (tax-free)</li>
                    </ul>
                </div>
            </div>

            <!-- Additional Disclaimers -->
            <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6">
                <h4 class="text-lg font-bold text-yellow-800 dark:text-yellow-200 mb-3">‚ö†Ô∏è Important Disclaimers</h4>
                <ul class="text-sm text-yellow-700 dark:text-yellow-300 space-y-1 list-disc list-inside">
                    <li><strong>This is NOT financial or tax advice</strong> - estimates only</li>
                    <li>Actual taxes may vary based on your specific situation</li>
                    <li>Does not include pension deductions, health benefits, or other employer deductions</li>
                    <li>Does not account for tax credits beyond basic personal amount</li>
                    <li>2025 rates are estimates and subject to change</li>
                    <li><strong>Always consult a qualified tax professional for advice</strong></li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 2025 Tax Brackets
        const federalBrackets = [
            { min: 0, max: 55867, rate: 0.15 },
            { min: 55867, max: 111733, rate: 0.205 },
            { min: 111733, max: 173205, rate: 0.26 },
            { min: 173205, max: 246752, rate: 0.29 },
            { min: 246752, max: Infinity, rate: 0.33 }
        ];
        
        const provincialBrackets = {
            AB: [ // Alberta
                { min: 0, max: 148269, rate: 0.10 },
                { min: 148269, max: 177922, rate: 0.12 },
                { min: 177922, max: 237675, rate: 0.13 },
                { min: 237675, max: 355513, rate: 0.14 },
                { min: 355513, max: Infinity, rate: 0.15 }
            ],
            BC: [ // British Columbia
                { min: 0, max: 50000, rate: 0.0506 },
                { min: 50000, max: 100000, rate: 0.077 },
                { min: 100000, max: 120000, rate: 0.105 },
                { min: 120000, max: 160000, rate: 0.1229 },
                { min: 160000, max: 220000, rate: 0.147 },
                { min: 220000, max: Infinity, rate: 0.168 }
            ],
            ON: [ // Ontario
                { min: 0, max: 51446, rate: 0.0505 },
                { min: 51446, max: 102894, rate: 0.0915 },
                { min: 102894, max: 150000, rate: 0.1116 },
                { min: 150000, max: 220000, rate: 0.1216 },
                { min: 220000, max: Infinity, rate: 0.1316 }
            ]
        };
        
        // 2025 Constants
        const basicPersonalAmount = 22323;
        const cppBasicExemption = 3500;
        const cppMaxEarnings = 71300;
        const cppRate = 0.0595;
        const cppMaxContrib = 4034.10;
        
        const eiMaxEarnings = 63200;
        const eiRate = 0.017;
        const eiMaxContrib = 1074.40;
        
        function calculateTax(taxableIncome, brackets) {
            let tax = 0;
            let remainingIncome = taxableIncome;
            
            for (let bracket of brackets) {
                if (remainingIncome <= 0) break;
                
                let bracketMin = bracket.min;
                let bracketMax = bracket.max;
                let bracketWidth = bracketMax - bracketMin;
                
                let taxableInBracket = Math.min(remainingIncome, bracketWidth);
                tax += taxableInBracket * bracket.rate;
                remainingIncome -= taxableInBracket;
            }
            
            return tax;
        }
        
        function calculateCPP(grossIncome) {
            if (grossIncome <= cppBasicExemption) return 0;
            
            let pensionableEarnings = Math.min(grossIncome, cppMaxEarnings) - cppBasicExemption;
            let cpp = pensionableEarnings * cppRate;
            
            return Math.min(cpp, cppMaxContrib);
        }
        
        function calculateEI(grossIncome) {
            if (grossIncome <= 0) return 0;
            let insurable = Math.min(grossIncome, eiMaxEarnings);
            return Math.min(insurable * eiRate, eiMaxContrib);
        }
        
        function formatCurrency(amount) {
            return '$' + amount.toLocaleString('en-CA', {maximumFractionDigits: 0});
        }
        
        function formatRange(min, max) {
            if (max === Infinity) {
                return formatCurrency(min) + '+';
            }
            return formatCurrency(min) + ' - ' + formatCurrency(max);
        }
        
        function updateTaxTables(province) {
            const federalBody = document.getElementById('federalTableBody');
            const provincialBody = document.getElementById('provincialTableBody');
            
            // Federal table
            federalBody.innerHTML = '';
            federalBrackets.forEach(bracket => {
                const row = document.createElement('tr');
                row.className = 'border-b border-border-light dark:border-border-dark';
                row.innerHTML = `
                    <td class="py-2 text-secondary-text-light dark:text-secondary-text-dark">${formatRange(bracket.min, bracket.max)}</td>
                    <td class="py-2 text-right text-text-light dark:text-text-dark">${(bracket.rate * 100).toFixed(1)}%</td>
                `;
                federalBody.appendChild(row);
            });
            
            // Provincial table
            provincialBody.innerHTML = '';
            const brackets = provincialBrackets[province];
            brackets.forEach(bracket => {
                const row = document.createElement('tr');
                row.className = 'border-b border-border-light dark:border-border-dark';
                row.innerHTML = `
                    <td class="py-2 text-secondary-text-light dark:text-secondary-text-dark">${formatRange(bracket.min, bracket.max)}</td>
                    <td class="py-2 text-right text-text-light dark:text-text-dark">${(bracket.rate * 100).toFixed(2)}%</td>
                `;
                provincialBody.appendChild(row);
            });
        }
        
        function updateCalculations() {
            const province = document.getElementById('province').value;
            const grossIncome = parseFloat(document.getElementById('annualSalary').value) || 0;
            const payPeriod = parseInt(document.getElementById('payPeriod').value) || 26;
            const rrspContrib = parseFloat(document.getElementById('rrspContrib').value) || 0;
            const unionDues = parseFloat(document.getElementById('unionDues').value) || 0;
            const employmentType = document.getElementById('employmentType').value;
            
            // Calculate taxable income
            const taxableIncome = Math.max(0, grossIncome - rrspContrib - unionDues - basicPersonalAmount);
            
            // Calculate taxes and deductions
            const federalTax = calculateTax(taxableIncome, federalBrackets);
            const provincialTax = calculateTax(taxableIncome, provincialBrackets[province]);
            
            let cppContrib = 0;
            let eiContrib = 0;
            
            if (employmentType === 'employee') {
                cppContrib = calculateCPP(grossIncome);
                eiContrib = calculateEI(grossIncome);
            }
            
            const totalDeductions = federalTax + provincialTax + cppContrib + eiContrib + rrspContrib + unionDues;
            const netIncome = grossIncome - totalDeductions;
            const takeHomePay = netIncome / payPeriod;
            const effectiveRate = grossIncome > 0 ? ((federalTax + provincialTax + cppContrib + eiContrib) / grossIncome) * 100 : 0;
            
            // Update display
            document.getElementById('grossAnnual').textContent = formatCurrency(grossIncome);
            document.getElementById('netAnnual').textContent = formatCurrency(netIncome);
            document.getElementById('takeHomePay').textContent = formatCurrency(takeHomePay);
            document.getElementById('effectiveRate').textContent = effectiveRate.toFixed(1) + '%';
            
            // Update breakdown
            document.getElementById('breakdownGross').textContent = formatCurrency(grossIncome);
            document.getElementById('breakdownRRSP').textContent = '-' + formatCurrency(rrspContrib);
            document.getElementById('breakdownUnion').textContent = '-' + formatCurrency(unionDues);
            document.getElementById('taxableIncome').textContent = formatCurrency(grossIncome - rrspContrib - unionDues);
            document.getElementById('federalTax').textContent = '-' + formatCurrency(federalTax);
            document.getElementById('provincialTax').textContent = '-' + formatCurrency(provincialTax);
            document.getElementById('cppContrib').textContent = '-' + formatCurrency(cppContrib);
            document.getElementById('eiContrib').textContent = '-' + formatCurrency(eiContrib);
            document.getElementById('netBreakdown').textContent = formatCurrency(netIncome);
            
            // Update pay frequency text
            const payFreqTexts = {
                12: 'Monthly',
                24: 'Semi-monthly',
                26: 'Bi-weekly',
                52: 'Weekly'
            };
            document.getElementById('payFreqText').textContent = payFreqTexts[payPeriod];
            
            // Update tax tables
            updateTaxTables(province);
        }
        
        // Event listeners
        document.getElementById('province').addEventListener('change', updateCalculations);
        document.getElementById('annualSalary').addEventListener('input', updateCalculations);
        document.getElementById('payPeriod').addEventListener('change', updateCalculations);
        document.getElementById('rrspContrib').addEventListener('input', updateCalculations);
        document.getElementById('unionDues').addEventListener('input', updateCalculations);
        document.getElementById('employmentType').addEventListener('change', updateCalculations);
        
        // Initial calculation
        updateCalculations();
    </script>
</body>
</html>
